{% extends 'base.html.twig' %}

{% block title %}Trick{% endblock %}

{% block body %}
    <h1>Trick</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ trick.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ trick.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ trick.description }}</td>
            </tr>
            <tr>
                <th>PublicationStatusTrick</th>
                <td>{{ trick.publicationStatusTrick }}</td>
            </tr>
            <tr>
                <th>Created_at</th>
                <td>{{ trick.createdAt ? trick.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Modified_at</th>
                <td>{{ trick.modifiedAt ? trick.modifiedAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

<h2>Pictures</h2>
<div><a class="btn btn-outline-primary mt-auto" href="#">Add Picture</a></div>
<br>
<table class="table">
    <thead>
    <tr>
        <th class="text-center">Name</th>
        <th class="text-center">Link</th>
    </tr>
    </thead>
    <tbody>
    {% for picture in trick.picture %}
        <tr>
            <td class="text-center">{{ picture.pictureName }}</td>
            <td class="text-center">{{ picture.pictureLink }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
<h2>Videos</h2>
<div><a class="btn btn-outline-primary mt-auto" href="#">Add Video</a></div>
<br>
<table class="table">
    <thead>
    <tr>
        <th class="text-center">Name</th>
        <th class="text-center">Link</th>
    </tr>
    </thead>
    <tbody>
    {% for video in trick.video %}
        <tr>
            <td class="text-center">{{ video.videoName }}</td>
            <td class="text-center">{{ video.videoLink }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<div><a class="btn btn-outline-dark mt-auto" href="{{ path('app_trick_index') }}">back to list</a>
</div>
<br>
{% if is_granted('ROLE_ADMIN') or is_granted('ROLE_USER') %}
    <div><a class="btn btn-outline-primary mt-auto" href="{{ path('app_trick_edit', {'id': trick.id}) }}">edit</a></div>
    <br>
    <div>{{ include('trick/_delete_form.html.twig') }}</div>
{% endif %}
<br>
<h5>Comments :</h5>

{{ form_start(form) }}
{{ form_row(form.postContent) }}
<button class="btn btn btn-primary" type="submit">
    Publish my comment
</button>
{{ form_end(form) }}
<br>
{% for post in trick.posts %}

<ul class="list-group">

    <li class="list-group-item"><small>{{ post.createdAt|date("m/d/Y") }} by {{ post.user }}
            : </small><br>{{ post.postContent }}</li>

    {% endfor %}
    {% endblock %}
